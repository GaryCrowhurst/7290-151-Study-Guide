<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit 7290-151 Revision Tool | Routine Light Vehicle Maintenance</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 10px;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 20px 15px;
            text-align: center;
        }

        .header h1 {
            font-size: 1.3rem;
            margin-bottom: 8px;
            line-height: 1.3;
        }

        .header p {
            opacity: 0.9;
            font-size: 0.9rem;
        }

        .progress-section {
            background: #f8f9fa;
            padding: 15px;
            border-bottom: 2px solid #e9ecef;
        }

        .progress-bar-container {
            width: 100%;
            height: 28px;
            background: #e9ecef;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            width: 0%;
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.85rem;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .stat {
            text-align: center;
            padding: 8px;
        }

        .stat-value {
            font-size: 1.4rem;
            font-weight: bold;
            color: #2a5298;
        }

        .stat-label {
            font-size: 0.85rem;
            color: #6c757d;
            margin-top: 2px;
        }

        .content {
            padding: 15px;
        }

        .start-screen, .quiz-screen, .results-screen {
            display: none;
        }

        .start-screen.active, .quiz-screen.active, .results-screen.active {
            display: block;
        }

        .intro-text {
            background: #e7f3ff;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid #2a5298;
        }

        .intro-text h2 {
            color: #2a5298;
            margin-bottom: 12px;
            font-size: 1.2rem;
        }

        .intro-text h3 {
            font-size: 1rem;
            margin-top: 15px;
            margin-bottom: 8px;
        }

        .intro-text p {
            font-size: 0.95rem;
            margin-bottom: 8px;
        }

        .intro-text ul {
            margin-left: 20px;
            margin-top: 8px;
        }

        .intro-text li {
            margin-bottom: 6px;
            font-size: 0.9rem;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 14px 30px;
            font-size: 1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            display: inline-block;
            text-align: center;
            font-weight: 600;
            width: 100%;
            min-height: 48px;
            touch-action: manipulation;
        }

        .btn:active {
            transform: scale(0.98);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #868f96 0%, #596164 100%);
        }

        .question-card {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .question-number {
            color: #667eea;
            font-weight: bold;
            font-size: 0.85rem;
            margin-bottom: 10px;
        }

        .question-text {
            font-size: 1.05rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 14px 15px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 12px;
            min-height: 48px;
            touch-action: manipulation;
        }

        .option:active {
            transform: scale(0.98);
        }

        .option input[type="radio"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
            flex-shrink: 0;
        }

        .option label {
            font-size: 0.95rem;
            line-height: 1.4;
        }

        .option.selected {
            background: #e7f3ff;
            border-color: #667eea;
            font-weight: 600;
        }

        .option.correct {
            background: #d4edda;
            border-color: #28a745;
        }

        .option.incorrect {
            background: #f8d7da;
            border-color: #dc3545;
        }

        .option.disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }

        .feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            display: none;
            font-size: 0.95rem;
        }

        .feedback.show {
            display: block;
        }

        .feedback.correct {
            background: #d4edda;
            border: 1px solid #28a745;
            color: #155724;
        }

        .feedback.incorrect {
            background: #f8d7da;
            border: 1px solid #dc3545;
            color: #721c24;
        }

        .feedback-title {
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 1rem;
        }

        .navigation {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 20px;
        }

        .results-summary {
            text-align: center;
            margin-bottom: 30px;
        }

        .results-summary h2 {
            color: #2a5298;
            font-size: 1.5rem;
            margin-bottom: 20px;
        }

        .score-circle {
            width: 160px;
            height: 160px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: 0 auto 30px;
            color: white;
            box-shadow: 0 10px 30px rgba(6, 182, 212, 0.3);
        }

        .score-percentage {
            font-size: 2.5rem;
            font-weight: bold;
        }

        .score-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .grade-message {
            font-size: 1.1rem;
            margin-bottom: 20px;
            padding: 12px;
            border-radius: 8px;
            font-weight: 600;
        }

        .grade-pass {
            background: #d4edda;
            color: #155724;
        }

        .grade-merit {
            background: #cfe2ff;
            color: #084298;
        }

        .grade-distinction {
            background: #fff3cd;
            color: #856404;
        }

        .grade-fail {
            background: #f8d7da;
            color: #721c24;
        }

        .review-section {
            margin-top: 30px;
        }

        .review-section h3 {
            color: #2a5298;
            margin-bottom: 20px;
            font-size: 1.2rem;
        }

        .review-item {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 12px;
            border-left: 4px solid #e9ecef;
        }

        .review-item.correct {
            border-left-color: #28a745;
        }

        .review-item.incorrect {
            border-left-color: #dc3545;
        }

        .review-question {
            font-weight: 600;
            margin-bottom: 8px;
            color: #2c3e50;
            font-size: 0.95rem;
        }

        .review-answer {
            display: flex;
            flex-direction: column;
            gap: 5px;
            font-size: 0.9rem;
        }

        .your-answer {
            color: #dc3545;
        }

        .correct-answer {
            color: #28a745;
        }

        @media (min-width: 600px) {
            body {
                padding: 15px;
            }

            .header {
                padding: 25px 20px;
            }

            .header h1 {
                font-size: 1.6rem;
            }

            .content {
                padding: 20px;
            }

            .intro-text {
                padding: 20px;
            }

            .question-card {
                padding: 20px;
            }

            .question-text {
                font-size: 1.15rem;
            }

            .stats {
                grid-template-columns: repeat(4, 1fr);
            }

            .score-circle {
                width: 180px;
                height: 180px;
            }

            .score-percentage {
                font-size: 2.8rem;
            }

            .navigation {
                flex-direction: row;
                justify-content: space-between;
            }

            .btn {
                width: auto;
                padding: 14px 35px;
            }
        }

        @media (min-width: 900px) {
            body {
                padding: 20px;
            }

            .header {
                padding: 30px;
            }

            .header h1 {
                font-size: 1.8rem;
            }

            .header p {
                font-size: 1rem;
            }

            .content {
                padding: 30px;
            }

            .progress-section {
                padding: 20px 30px;
            }

            .intro-text {
                padding: 20px;
                margin-bottom: 30px;
            }

            .intro-text h2 {
                font-size: 1.5rem;
            }

            .question-card {
                padding: 25px;
                margin-bottom: 20px;
            }

            .question-text {
                font-size: 1.2rem;
            }

            .option {
                padding: 15px 20px;
            }

            .option:hover {
                background: #e7f3ff;
                border-color: #667eea;
                transform: translateX(5px);
            }

            .btn {
                padding: 15px 40px;
                font-size: 1.1rem;
            }

            .btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 5px 20px rgba(6, 182, 212, 0.4);
            }

            .btn:active {
                transform: translateY(0);
            }

            .score-circle {
                width: 200px;
                height: 200px;
            }

            .score-percentage {
                font-size: 3rem;
            }

            .score-label {
                font-size: 1rem;
            }

            .results-summary h2 {
                font-size: 2rem;
            }

            .grade-message {
                font-size: 1.3rem;
                padding: 15px;
            }

            .navigation {
                margin-top: 30px;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Unit 7290-151 Revision Tool</h1>
            <p>Routine Light Vehicle Maintenance - Level 2</p>
        </div>

        <div class="progress-section">
            <div class="progress-bar-container">
                <div class="progress-bar" id="progressBar">0%</div>
            </div>
            <div class="stats">
                <div class="stat">
                    <div class="stat-value" id="currentQuestion">0</div>
                    <div class="stat-label">Current Question</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="totalQuestions">40</div>
                    <div class="stat-label">Total Questions</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="correctAnswers">0</div>
                    <div class="stat-label">Correct</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="incorrectAnswers">0</div>
                    <div class="stat-label">Incorrect</div>
                </div>
            </div>
        </div>

        <div class="content">
            <!-- Start Screen -->
            <div class="start-screen active" id="startScreen">
                <div class="intro-text">
                    <h2>Welcome to the Revision Tool</h2>
                    <p>This interactive revision tool will help you prepare for the <strong>Unit 7290-151</strong> multiple choice test.</p>
                    
                    <h3 style="margin-top: 20px; margin-bottom: 10px;">What to Expect:</h3>
                    <ul>
                        <li><strong>40 practice questions</strong> on routine maintenance procedures</li>
                        <li>Inspection techniques and methods</li>
                        <li>Fluid checking and replacement</li>
                        <li>Component inspection and testing</li>
                        <li>Documentation and reporting</li>
                        <li>Immediate feedback after each answer</li>
                        <li>Detailed explanations for learning</li>
                        <li>Final results with grade indication</li>
                    </ul>

                    <h3 style="margin-top: 20px; margin-bottom: 10px;">Grading System:</h3>
                    <ul>
                        <li><strong>Pass:</strong> 65% or above</li>
                        <li><strong>Merit:</strong> 75% or above</li>
                        <li><strong>Distinction:</strong> 85% or above</li>
                    </ul>
                </div>
                <button class="btn" onclick="startQuiz()">Start Revision Quiz</button>
            </div>

            <!-- Quiz Screen -->
            <div class="quiz-screen" id="quizScreen">
                <div class="question-card">
                    <div class="question-number" id="questionNumber">Question 1 of 40</div>
                    <div class="question-text" id="questionText"></div>
                    <div class="options" id="options"></div>
                    <div class="feedback" id="feedback"></div>
                </div>
                <div class="navigation">
                    <button class="btn btn-secondary" onclick="previousQuestion()" id="prevBtn" style="display: none;">Previous</button>
                    <button class="btn" onclick="checkAnswer()" id="checkBtn">Check Answer</button>
                    <button class="btn" onclick="nextQuestion()" id="nextBtn" style="display: none;">Next Question</button>
                </div>
            </div>

            <!-- Results Screen -->
            <div class="results-screen" id="resultsScreen">
                <div class="results-summary">
                    <h2>Quiz Complete!</h2>
                    <div class="score-circle">
                        <div class="score-percentage" id="finalScore">0%</div>
                        <div class="score-label">Final Score</div>
                    </div>
                    <div class="grade-message" id="gradeMessage"></div>
                    <div class="stats" style="margin-top: 20px;">
                        <div class="stat">
                            <div class="stat-value" id="finalCorrect">0</div>
                            <div class="stat-label">Correct Answers</div>
                        </div>
                        <div class="stat">
                            <div class="stat-value" id="finalIncorrect">0</div>
                            <div class="stat-label">Incorrect Answers</div>
                        </div>
                        <div class="stat">
                            <div class="stat-value" id="finalTotal">40</div>
                            <div class="stat-label">Total Questions</div>
                        </div>
                    </div>
                </div>
                
                <div class="review-section">
                    <h3>Review Your Answers</h3>
                    <div id="reviewList"></div>
                </div>

                <div class="navigation">
                    <button class="btn" onclick="restartQuiz()">Restart Quiz</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const allQuestions = [
            // Routine maintenance purpose and procedures
            {
                question: "What is the primary purpose of routine light vehicle maintenance?",
                options: [
                    "Enhance vehicle appearance",
                    "Maintain safety and reliability",
                    "Increase workshop revenue",
                    "Void warranty coverage"
                ],
                correct: 1,
                explanation: "Routine maintenance ensures vehicles remain safe, reliable, legally compliant, and prevents unexpected breakdowns whilst maintaining warranty validity."
            },
            {
                question: "Why must manufacturer service intervals be followed?",
                options: [
                    "To maintain warranty validity",
                    "To increase service costs",
                    "For insurance purposes only",
                    "Intervals are recommendations only"
                ],
                correct: 0,
                explanation: "Following manufacturer intervals maintains warranty validity and ensures components are inspected before failure based on extensive testing data."
            },
            {
                question: "Which condition is essential for accurate oil level checking?",
                options: [
                    "Engine running at idle",
                    "Vehicle on level ground, engine off",
                    "Engine at operating temperature",
                    "Vehicle on ramp or slope"
                ],
                correct: 1,
                explanation: "Oil level must be checked with the vehicle on level ground and engine off for 5 minutes to allow oil to drain to the sump."
            },
            {
                question: "What is the purpose of replacing engine oil?",
                options: [
                    "Change oil colour",
                    "Remove contaminants",
                    "Increase oil pressure",
                    "Reduce engine noise"
                ],
                correct: 1,
                explanation: "Oil replacement removes contaminants (metal particles, combustion by-products), restores lubrication properties, and prevents engine wear."
            },
            {
                question: "Which coolant ratio is recommended for UK conditions?",
                options: [
                    "30% antifreeze, 70% water",
                    "50% antifreeze, 50% water",
                    "70% antifreeze, 30% water",
                    "100% antifreeze"
                ],
                correct: 1,
                explanation: "A 50/50 mixture provides protection to -37°C, raises boiling point, prevents corrosion, and lubricates the water pump."
            },
            {
                question: "When checking brake fluid, what else should be assessed?",
                options: [
                    "Fluid temperature",
                    "Fluid colour and clarity",
                    "Container label only",
                    "Reservoir material"
                ],
                correct: 1,
                explanation: "Brake fluid colour and clarity indicate contamination. Dark fluid shows moisture absorption and requires replacement for braking performance."
            },
            {
                question: "How should tyre tread depth be measured?",
                options: [
                    "Visual estimation",
                    "Depth gauge measurement",
                    "Tread wear indicators only",
                    "Sidewall inspection"
                ],
                correct: 1,
                explanation: "Tread depth requires measurement with a depth gauge across the central three-quarters of tread width. Legal minimum is 1.6mm."
            },
            {
                question: "Which drive belt condition indicates replacement?",
                options: [
                    "Correct tension",
                    "Proper alignment",
                    "Cracks or fraying",
                    "Clean surface"
                ],
                correct: 2,
                explanation: "Belts showing cracks, glazing, fraying, or excessive wear must be replaced to prevent failure of charging, cooling, or power steering."
            },
            {
                question: "Why is brake disc thickness measured?",
                options: [
                    "Determine if replacement is needed",
                    "Calculate brake balance",
                    "Verify disc material",
                    "Check disc colour"
                ],
                correct: 0,
                explanation: "Measuring thickness against specifications determines if replacement is required before reaching minimum safe thickness due to wear."
            },
            {
                question: "Which tool measures brake disc runout?",
                options: [
                    "Micrometer",
                    "Dial test indicator",
                    "Vernier calliper",
                    "Feeler gauge"
                ],
                correct: 1,
                explanation: "A dial test indicator (DTI) measures disc lateral movement when rotated, identifying warping or distortion causing brake judder."
            },

            // Battery and electrical checks
            {
                question: "What requires attention on battery terminals?",
                options: [
                    "Tight connections",
                    "Corrosion deposits",
                    "Correct polarity",
                    "Proper insulation"
                ],
                correct: 1,
                explanation: "Corrosion (white powder or blue-green deposits) increases resistance and impairs connections, requiring cleaning for reliable starting."
            },
            {
                question: "How should headlight alignment be checked?",
                options: [
                    "Visual observation whilst driving",
                    "Beam-setting equipment on level surface",
                    "Comparison with other vehicles",
                    "Distance from wall measurement"
                ],
                correct: 1,
                explanation: "Headlight alignment requires beam-setting equipment with vehicle on level surface, correct tyre pressures, and appropriate loading."
            },
            {
                question: "What indicates shock absorber failure?",
                options: [
                    "Clean appearance",
                    "Excessive bouncing after compression",
                    "Correct ride height",
                    "No visible leaks"
                ],
                correct: 1,
                explanation: "If the vehicle bounces more than 1-2 times after being pushed down and released, shock absorbers have lost damping efficiency."
            },
            {
                question: "Why is the exhaust system inspected?",
                options: [
                    "Check for leaks and corrosion",
                    "Measure fuel consumption",
                    "Adjust engine power",
                    "Verify exhaust colour"
                ],
                correct: 0,
                explanation: "Exhaust inspection identifies leaks (allowing toxic gases inside), corrosion damage, and loose mountings that could cause failure."
            },
            {
                question: "What should be observed when checking power steering fluid?",
                options: [
                    "Fluid temperature",
                    "Reservoir size",
                    "Fluid colour and contamination",
                    "Cap condition only"
                ],
                correct: 2,
                explanation: "Power steering fluid should be checked for correct level, colour (clear/light amber), and contamination indicating system issues."
            },

            // Drive belt and tension checks
            {
                question: "Why is alternator belt tension important?",
                options: [
                    "Prevents slipping and excessive wear",
                    "Increases charging noise",
                    "Reduces alternator output",
                    "Improves fuel economy"
                ],
                correct: 0,
                explanation: "Correct tension ensures efficient power transmission without slipping (reducing charging) or excessive tension (causing bearing failure)."
            },
            {
                question: "What should be assessed during a post-maintenance road test?",
                options: [
                    "Radio functionality",
                    "Braking and steering response",
                    "Maximum speed",
                    "Fuel consumption only"
                ],
                correct: 1,
                explanation: "Road tests assess braking efficiency, steering response, gear selection, unusual noises, and general operation to verify system function."
            },
            {
                question: "How should brake pad thickness be inspected?",
                options: [
                    "Visual check from above",
                    "Remove wheel and measure",
                    "Listen for noise",
                    "Check pedal feel"
                ],
                correct: 1,
                explanation: "Brake pad inspection requires wheel removal to accurately measure friction material thickness and inspect for uneven wear or contamination."
            },
            {
                question: "When should tyre pressures be checked?",
                options: [
                    "After long journey",
                    "When tyres are cold",
                    "At any time",
                    "When hot"
                ],
                correct: 1,
                explanation: "Tyre pressures must be checked cold (before driving or after 2+ hours stationary) as driving increases pressure by 4-6 psi."
            },
            {
                question: "What does suspension inspection identify?",
                options: [
                    "Wear in bushes and ball joints",
                    "Ride height only",
                    "Spring colour",
                    "Shock absorber length"
                ],
                correct: 0,
                explanation: "Suspension inspection identifies wear in bushes, ball joints, track rod ends, and shock absorbers affecting handling and safety."
            },

            // Wheel bearing and component checks
            {
                question: "What indicates potential wheel bearing failure?",
                options: [
                    "Smooth rotation",
                    "Roughness or play when rotated",
                    "Correct wheel balance",
                    "Free wheel movement"
                ],
                correct: 1,
                explanation: "Wheel bearings showing roughness, excessive play, grinding noise, or resistance indicate wear requiring replacement to prevent failure."
            },
            {
                question: "How is an electronic service indicator reset?",
                options: [
                    "Disconnect battery temporarily",
                    "Follow manufacturer-specific procedure",
                    "Automatic reset occurs",
                    "Ignore until next service"
                ],
                correct: 1,
                explanation: "Electronic service indicators require manufacturer-specific reset procedures using diagnostic equipment or specific button sequences."
            },
            {
                question: "When does an air filter require replacement?",
                options: [
                    "Filter is clean",
                    "Excessive dirt or oil contamination",
                    "Filter correctly fitted",
                    "Specified time only"
                ],
                correct: 1,
                explanation: "Air filters showing excessive dirt, oil contamination, physical damage, or restricted airflow must be replaced for engine performance."
            },
            {
                question: "Why is brake disc surface condition checked?",
                options: [
                    "Identify scoring or cracks",
                    "Verify disc colour",
                    "Adjust brake fluid",
                    "Measure disc temperature"
                ],
                correct: 0,
                explanation: "Disc surface inspection identifies scoring, cracks, heat spots, or corrosion that reduce braking efficiency and may require machining."
            },
            {
                question: "What must be documented after maintenance?",
                options: [
                    "Weather conditions",
                    "Work completed and observations",
                    "Technician opinions only",
                    "Vehicle colour"
                ],
                correct: 1,
                explanation: "Documentation includes work completed, parts used, mileage, observations, defects found, recommendations, and technician signature."
            },

            // Belt alignment and fluid checks
            {
                question: "Why is drive belt alignment checked?",
                options: [
                    "Ensure even wear",
                    "Increase belt noise",
                    "Reduce engine power",
                    "Improve aesthetics"
                ],
                correct: 0,
                explanation: "Correct alignment prevents uneven wear, edge fraying, and premature failure. Misalignment causes excessive bearing loads."
            },
            {
                question: "When checking automatic transmission fluid, what is required?",
                options: [
                    "Engine cold and off",
                    "Engine at operating temperature",
                    "Any temperature acceptable",
                    "Level cannot be checked"
                ],
                correct: 1,
                explanation: "Most automatic transmissions require fluid checks with engine at operating temperature, running, in Park position for accurate readings."
            },
            {
                question: "How are CV joint boots inspected?",
                options: [
                    "Visual check for splits",
                    "Listen for clicking",
                    "Check boot colour",
                    "Temperature measurement"
                ],
                correct: 0,
                explanation: "CV boots must be visually inspected for splits, cracks, perishing, clip security, and grease leakage indicating contamination risk."
            },
            {
                question: "What consideration applies to hybrid vehicle emissions testing?",
                options: [
                    "Standard procedures apply",
                    "Engine at temperature, battery charged",
                    "Hybrids are exempt",
                    "Testing not required"
                ],
                correct: 1,
                explanation: "Hybrid emissions testing requires engine at operating temperature with battery sufficiently charged to ensure consistent engine running."
            },
            {
                question: "What should be checked on brake hoses?",
                options: [
                    "Hose colour",
                    "Fluid temperature",
                    "Perishing or bulging",
                    "Hose length"
                ],
                correct: 2,
                explanation: "Brake hoses deteriorate over time, developing cracks, bulges, or chafing that can lead to sudden failure requiring replacement."
            },

            // Coolant and pressure tests
            {
                question: "Which instrument measures coolant concentration?",
                options: [
                    "Thermometer",
                    "Refractometer",
                    "Pressure gauge",
                    "Voltmeter"
                ],
                correct: 1,
                explanation: "A refractometer or antifreeze tester measures coolant concentration (glycol content) to verify adequate freeze protection and correct mixture."
            },
            {
                question: "What does a cooling system pressure test identify?",
                options: [
                    "Coolant colour",
                    "Leaks and cap operation",
                    "Temperature range",
                    "Flow rate"
                ],
                correct: 1,
                explanation: "Pressure testing identifies external leaks, internal leaks (head gasket), and verifies pressure cap opens at correct pressure."
            },
            {
                question: "When do wiper blades require replacement?",
                options: [
                    "Blades are clean",
                    "Splitting or poor performance",
                    "Blades are correct colour",
                    "Annual replacement only"
                ],
                correct: 1,
                explanation: "Wiper blades showing splitting, perishing, hardening, or causing streaking/chattering must be replaced for adequate visibility."
            },
            {
                question: "How is clutch operation assessed?",
                options: [
                    "Visual inspection only",
                    "Pedal feel and biting point",
                    "Fluid colour check",
                    "Temperature measurement"
                ],
                correct: 1,
                explanation: "Clutch assessment includes checking pedal feel, biting point height, smoothness of engagement, unusual noises, and slip under load."
            },
            {
                question: "What information should defect documentation include?",
                options: [
                    "Defect colour",
                    "Description and safety implications",
                    "Estimate only",
                    "Photo only"
                ],
                correct: 1,
                explanation: "Additional defects must be documented with clear descriptions, location, severity, safety implications, and recommendations."
            },

            // Steering and rack inspection
            {
                question: "Why are steering rack gaiters checked?",
                options: [
                    "Verify integrity without splits",
                    "Check gaiter colour",
                    "Adjust steering angle",
                    "Measure steering effort"
                ],
                correct: 0,
                explanation: "Steering rack gaiters protect internal components. Split gaiters allow dirt and water ingress, causing rapid wear and rack failure."
            },
            {
                question: "What does a battery load test indicate?",
                options: [
                    "Battery age only",
                    "Cranking current capacity",
                    "Battery size",
                    "Electrolyte level"
                ],
                correct: 1,
                explanation: "A load test assesses the battery's ability to deliver sufficient cranking current under load, identifying batteries that cannot start engines."
            },
            {
                question: "How should auxiliary drive belts be inspected?",
                options: [
                    "Check colour only",
                    "Listen for noise only",
                    "Visual inspection both sides",
                    "Tension measurement only"
                ],
                correct: 2,
                explanation: "Auxiliary belts must be visually inspected on both sides (where accessible) for cracks, fraying, glazing, contamination, and proper tension."
            },
            {
                question: "What does significantly low brake fluid indicate?",
                options: [
                    "Fluid has evaporated",
                    "Pad wear or leak",
                    "Excessive filling previously",
                    "No action required"
                ],
                correct: 1,
                explanation: "Low brake fluid typically indicates brake pad wear (calipers extend further) but may also indicate a hydraulic leak requiring investigation."
            },
            {
                question: "Why are exhaust emissions checked?",
                options: [
                    "Verify legal compliance",
                    "Adjust exhaust note",
                    "Increase fuel consumption",
                    "Change catalyst colour"
                ],
                correct: 0,
                explanation: "Emissions testing verifies legal compliance, identifies engine management faults, and detects issues with catalytic converters or combustion."
            },

            // Track rod and suspension component checks
            {
                question: "What indicates track rod end wear?",
                options: [
                    "Components are clean",
                    "Excessive play when levered",
                    "Track rods are straight",
                    "Boots are intact"
                ],
                correct: 1,
                explanation: "Track rod ends showing excessive play (movement when levered), perished gaiters, or roughness indicate wear requiring replacement."
            },
            {
                question: "Which tool is used for measuring oil?",
                options: [
                    "Dipstick",
                    "Pressure gauge",
                    "Thermometer",
                    "Refractometer"
                ],
                correct: 0,
                explanation: "The dipstick provides a simple, accurate method for checking engine oil level against MIN and MAX markings when engine is off."
            },
            {
                question: "What is checked during a brake efficiency test?",
                options: [
                    "Fluid colour only",
                    "Deceleration rate",
                    "Pad thickness only",
                    "Disc colour"
                ],
                correct: 1,
                explanation: "Brake efficiency testing measures deceleration rate and balance to verify braking performance meets legal requirements and is even across axles."
            },
            {
                question: "When should cabin air filters be replaced?",
                options: [
                    "Filter shows restriction or contamination",
                    "Annual replacement only",
                    "Filter colour changes",
                    "Never requires replacement"
                ],
                correct: 0,
                explanation: "Cabin air filters should be replaced when showing excessive dirt, restricted airflow, or contamination affecting ventilation system performance."
            },
            {
                question: "What indicates power steering system leaks?",
                options: [
                    "Fluid level drop and visible leaks",
                    "Increased steering effort only",
                    "Noise only",
                    "Belt wear only"
                ],
                correct: 0,
                explanation: "Power steering leaks are indicated by falling fluid levels, visible fluid on components, and may cause increased steering effort."
            },
            {
                question: "How is brake pedal free play assessed?",
                options: [
                    "Measurement before resistance",
                    "Pedal height only",
                    "Visual observation",
                    "Fluid level check"
                ],
                correct: 0,
                explanation: "Brake pedal free play is measured as the distance the pedal travels before resistance is felt, indicating correct adjustment."
            },

            // Final maintenance checks
            {
                question: "What should be verified after oil change?",
                options: [
                    "Level, no leaks, correct grade",
                    "Colour only",
                    "Temperature only",
                    "Age of oil"
                ],
                correct: 0,
                explanation: "After oil change, verify correct level, no leaks from filter or drain plug, correct grade used, and proper disposal of old oil."
            },
            {
                question: "Which component requires specific tightening torque?",
                options: [
                    "Oil filler cap",
                    "Wheel nuts",
                    "Wiper blades",
                    "Coolant cap"
                ],
                correct: 1,
                explanation: "Wheel nuts must be tightened to manufacturer-specified torque using a torque wrench to ensure proper clamping force without damage."
            },
            {
                question: "What indicates worn engine mounts?",
                options: [
                    "Smooth engine operation",
                    "Excessive engine movement",
                    "Correct idle speed",
                    "No visible damage"
                ],
                correct: 1,
                explanation: "Worn engine mounts allow excessive engine movement, causing vibration, clunking when changing gear, and misalignment of drive shafts."
            },
            {
                question: "How should washer fluid be checked?",
                options: [
                    "Visual level check in reservoir",
                    "Spray pattern only",
                    "Pump noise only",
                    "Temperature check"
                ],
                correct: 0,
                explanation: "Washer fluid level should be visually checked in the translucent reservoir and topped up with appropriate screen wash mixture."
            },
            {
                question: "What is assessed during vehicle interior inspection?",
                options: [
                    "Seat condition and controls operation",
                    "Radio presets",
                    "Air freshener type",
                    "Upholstery colour"
                ],
                correct: 0,
                explanation: "Interior inspection assesses seat condition, seatbelt operation, control functionality, warning lights, and general cabin condition."
            }
        ];

        // Shuffle questions and select 40
        const questions = allQuestions.sort(() => Math.random() - 0.5).slice(0, 40);
        let currentQuestionIndex = 0;
        let correctCount = 0;
        let incorrectCount = 0;
        let userAnswers = [];
        let answered = false;

        function startQuiz() {
            document.getElementById('startScreen').classList.remove('active');
            document.getElementById('quizScreen').classList.add('active');
            loadQuestion();
            updateProgress();
        }

        function loadQuestion() {
            answered = false;
            const question = questions[currentQuestionIndex];
            
            document.getElementById('questionNumber').textContent = `Question ${currentQuestionIndex + 1} of ${questions.length}`;
            document.getElementById('questionText').textContent = question.question;
            
            const optionsDiv = document.getElementById('options');
            optionsDiv.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.onclick = () => selectOption(index);
                optionDiv.innerHTML = `
                    <input type="radio" name="answer" id="option${index}" value="${index}">
                    <label for="option${index}" style="cursor: pointer; flex: 1;">${option}</label>
                `;
                optionsDiv.appendChild(optionDiv);
            });

            document.getElementById('feedback').classList.remove('show', 'correct', 'incorrect');
            document.getElementById('checkBtn').style.display = 'inline-block';
            document.getElementById('nextBtn').style.display = 'none';
            
            document.getElementById('prevBtn').style.display = currentQuestionIndex > 0 ? 'inline-block' : 'none';
        }

        function selectOption(index) {
            if (answered) return;
            
            document.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
            document.querySelectorAll('.option')[index].classList.add('selected');
            document.getElementById(`option${index}`).checked = true;
        }

        function checkAnswer() {
            if (answered) return;
            
            const selectedOption = document.querySelector('input[name="answer"]:checked');
            if (!selectedOption) {
                alert('Please select an answer before checking.');
                return;
            }

            answered = true;
            const userAnswer = parseInt(selectedOption.value);
            const question = questions[currentQuestionIndex];
            const isCorrect = userAnswer === question.correct;

            userAnswers[currentQuestionIndex] = {
                question: question.question,
                userAnswer: userAnswer,
                correctAnswer: question.correct,
                isCorrect: isCorrect,
                options: question.options
            };

            if (isCorrect) {
                correctCount++;
            } else {
                incorrectCount++;
            }

            const feedback = document.getElementById('feedback');
            feedback.className = `feedback show ${isCorrect ? 'correct' : 'incorrect'}`;
            feedback.innerHTML = `
                <div class="feedback-title">${isCorrect ? '✓ Correct!' : '✗ Incorrect'}</div>
                <div>${question.explanation}</div>
            `;

            document.querySelectorAll('.option').forEach((opt, index) => {
                opt.classList.add('disabled');
                if (index === question.correct) {
                    opt.classList.add('correct');
                } else if (index === userAnswer && !isCorrect) {
                    opt.classList.add('incorrect');
                }
            });

            document.getElementById('checkBtn').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'inline-block';
            document.getElementById('nextBtn').textContent = currentQuestionIndex === questions.length - 1 ? 'View Results' : 'Next Question';

            updateProgress();
        }

        function nextQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            } else {
                showResults();
            }
            updateProgress();
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
                
                if (userAnswers[currentQuestionIndex]) {
                    answered = true;
                    const userAnswer = userAnswers[currentQuestionIndex].userAnswer;
                    const question = questions[currentQuestionIndex];
                    
                    document.getElementById(`option${userAnswer}`).checked = true;
                    document.querySelectorAll('.option')[userAnswer].classList.add('selected');
                    
                    document.querySelectorAll('.option').forEach((opt, index) => {
                        opt.classList.add('disabled');
                        if (index === question.correct) {
                            opt.classList.add('correct');
                        } else if (index === userAnswer && userAnswer !== question.correct) {
                            opt.classList.add('incorrect');
                        }
                    });

                    const feedback = document.getElementById('feedback');
                    const isCorrect = userAnswer === question.correct;
                    feedback.className = `feedback show ${isCorrect ? 'correct' : 'incorrect'}`;
                    feedback.innerHTML = `
                        <div class="feedback-title">${isCorrect ? '✓ Correct!' : '✗ Incorrect'}</div>
                        <div>${question.explanation}</div>
                    `;

                    document.getElementById('checkBtn').style.display = 'none';
                    document.getElementById('nextBtn').style.display = 'inline-block';
                }
                
                updateProgress();
            }
        }

        function updateProgress() {
            const answeredQuestions = userAnswers.filter(a => a !== undefined).length;
            const progress = (answeredQuestions / questions.length) * 100;
            
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('progressBar').textContent = Math.round(progress) + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            document.getElementById('totalQuestions').textContent = questions.length;
            document.getElementById('correctAnswers').textContent = correctCount;
            document.getElementById('incorrectAnswers').textContent = incorrectCount;
        }

        function showResults() {
            document.getElementById('quizScreen').classList.remove('active');
            document.getElementById('resultsScreen').classList.add('active');

            const percentage = Math.round((correctCount / questions.length) * 100);
            document.getElementById('finalScore').textContent = percentage + '%';
            document.getElementById('finalCorrect').textContent = correctCount;
            document.getElementById('finalIncorrect').textContent = incorrectCount;
            document.getElementById('finalTotal').textContent = questions.length;

            let gradeMessage = '';
            let gradeClass = '';
            
            if (percentage >= 85) {
                gradeMessage = '🌟 Distinction - Outstanding Work!';
                gradeClass = 'grade-distinction';
            } else if (percentage >= 75) {
                gradeMessage = '⭐ Merit - Excellent Job!';
                gradeClass = 'grade-merit';
            } else if (percentage >= 65) {
                gradeMessage = '✓ Pass - Well Done!';
                gradeClass = 'grade-pass';
            } else {
                gradeMessage = '✗ Below Pass - Keep Learning!';
                gradeClass = 'grade-fail';
            }

            const gradeDiv = document.getElementById('gradeMessage');
            gradeDiv.textContent = gradeMessage;
            gradeDiv.className = `grade-message ${gradeClass}`;

            const reviewList = document.getElementById('reviewList');
            reviewList.innerHTML = '';

            userAnswers.forEach((answer, index) => {
                const reviewItem = document.createElement('div');
                reviewItem.className = `review-item ${answer.isCorrect ? 'correct' : 'incorrect'}`;
                
                let html = `
                    <div class="review-question">Q${index + 1}: ${answer.question}</div>
                    <div class="review-answer">
                `;
                
                if (!answer.isCorrect) {
                    html += `
                        <div class="your-answer"><strong>Your answer:</strong> ${answer.options[answer.userAnswer]}</div>
                        <div class="correct-answer"><strong>Correct answer:</strong> ${answer.options[answer.correctAnswer]}</div>
                    `;
                } else {
                    html += `<div class="correct-answer"><strong>Your answer:</strong> ${answer.options[answer.userAnswer]} ✓</div>`;
                }
                
                html += `</div>`;
                reviewItem.innerHTML = html;
                reviewList.appendChild(reviewItem);
            });
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            correctCount = 0;
            incorrectCount = 0;
            userAnswers = [];
            answered = false;

            document.getElementById('resultsScreen').classList.remove('active');
            document.getElementById('startScreen').classList.add('active');
            updateProgress();
        }
    </script>
</body>
</html>