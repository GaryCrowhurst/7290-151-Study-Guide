<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit 7290-727/777 Revision Tool | Basic Routine Vehicle Maintenance</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 10px;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
            color: white;
            padding: 20px 15px;
            text-align: center;
        }

        .header h1 {
            font-size: 1.3rem;
            margin-bottom: 8px;
            line-height: 1.3;
        }

        .header p {
            opacity: 0.9;
            font-size: 0.9rem;
        }

        .progress-section {
            background: #f8f9fa;
            padding: 15px;
            border-bottom: 2px solid #e9ecef;
        }

        .progress-bar-container {
            width: 100%;
            height: 28px;
            background: #e9ecef;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #06b6d4 0%, #0891b2 100%);
            width: 0%;
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.85rem;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .stat {
            text-align: center;
            padding: 8px;
        }

        .stat-value {
            font-size: 1.4rem;
            font-weight: bold;
            color: #2a5298;
        }

        .stat-label {
            font-size: 0.85rem;
            color: #6c757d;
            margin-top: 2px;
        }

        .content {
            padding: 15px;
        }

        .start-screen, .quiz-screen, .results-screen {
            display: none;
        }

        .start-screen.active, .quiz-screen.active, .results-screen.active {
            display: block;
        }

        .intro-text {
            background: #e7f3ff;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid #2a5298;
        }

        .intro-text h2 {
            color: #2a5298;
            margin-bottom: 12px;
            font-size: 1.2rem;
        }

        .intro-text h3 {
            font-size: 1rem;
            margin-top: 15px;
            margin-bottom: 8px;
        }

        .intro-text p {
            font-size: 0.95rem;
            margin-bottom: 8px;
        }

        .intro-text ul {
            margin-left: 20px;
            margin-top: 8px;
        }

        .intro-text li {
            margin-bottom: 6px;
            font-size: 0.9rem;
        }

        .btn {
            background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
            color: white;
            border: none;
            padding: 14px 30px;
            font-size: 1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            display: inline-block;
            text-align: center;
            font-weight: 600;
            width: 100%;
            min-height: 48px;
            touch-action: manipulation;
        }

        .btn:active {
            transform: scale(0.98);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #868f96 0%, #596164 100%);
        }

        .question-card {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .question-number {
            color: #06b6d4;
            font-weight: bold;
            font-size: 0.85rem;
            margin-bottom: 10px;
        }

        .question-text {
            font-size: 1.05rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 14px 15px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 12px;
            min-height: 48px;
            touch-action: manipulation;
        }

        .option:active {
            transform: scale(0.98);
        }

        .option input[type="radio"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
            flex-shrink: 0;
        }

        .option label {
            font-size: 0.95rem;
            line-height: 1.4;
        }

        .option.selected {
            background: #e7f3ff;
            border-color: #06b6d4;
            font-weight: 600;
        }

        .option.correct {
            background: #d4edda;
            border-color: #28a745;
        }

        .option.incorrect {
            background: #f8d7da;
            border-color: #dc3545;
        }

        .option.disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }

        .feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            display: none;
            font-size: 0.95rem;
        }

        .feedback.show {
            display: block;
        }

        .feedback.correct {
            background: #d4edda;
            border: 1px solid #28a745;
            color: #155724;
        }

        .feedback.incorrect {
            background: #f8d7da;
            border: 1px solid #dc3545;
            color: #721c24;
        }

        .feedback-title {
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 1rem;
        }

        .navigation {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 20px;
        }

        .results-summary {
            text-align: center;
            margin-bottom: 30px;
        }

        .results-summary h2 {
            color: #2a5298;
            font-size: 1.5rem;
            margin-bottom: 20px;
        }

        .score-circle {
            width: 160px;
            height: 160px;
            border-radius: 50%;
            background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: 0 auto 30px;
            color: white;
            box-shadow: 0 10px 30px rgba(6, 182, 212, 0.3);
        }

        .score-percentage {
            font-size: 2.5rem;
            font-weight: bold;
        }

        .score-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .grade-message {
            font-size: 1.1rem;
            margin-bottom: 20px;
            padding: 12px;
            border-radius: 8px;
            font-weight: 600;
        }

        .grade-pass {
            background: #d4edda;
            color: #155724;
        }

        .grade-merit {
            background: #cfe2ff;
            color: #084298;
        }

        .grade-distinction {
            background: #fff3cd;
            color: #856404;
        }

        .grade-fail {
            background: #f8d7da;
            color: #721c24;
        }

        .review-section {
            margin-top: 30px;
        }

        .review-section h3 {
            color: #2a5298;
            margin-bottom: 20px;
            font-size: 1.2rem;
        }

        .review-item {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 12px;
            border-left: 4px solid #e9ecef;
        }

        .review-item.correct {
            border-left-color: #28a745;
        }

        .review-item.incorrect {
            border-left-color: #dc3545;
        }

        .review-question {
            font-weight: 600;
            margin-bottom: 8px;
            color: #2c3e50;
            font-size: 0.95rem;
        }

        .review-answer {
            display: flex;
            flex-direction: column;
            gap: 5px;
            font-size: 0.9rem;
        }

        .your-answer {
            color: #dc3545;
        }

        .correct-answer {
            color: #28a745;
        }

        @media (min-width: 600px) {
            body {
                padding: 15px;
            }

            .header {
                padding: 25px 20px;
            }

            .header h1 {
                font-size: 1.6rem;
            }

            .content {
                padding: 20px;
            }

            .intro-text {
                padding: 20px;
            }

            .question-card {
                padding: 20px;
            }

            .question-text {
                font-size: 1.15rem;
            }

            .stats {
                grid-template-columns: repeat(4, 1fr);
            }

            .score-circle {
                width: 180px;
                height: 180px;
            }

            .score-percentage {
                font-size: 2.8rem;
            }

            .navigation {
                flex-direction: row;
                justify-content: space-between;
            }

            .btn {
                width: auto;
                padding: 14px 35px;
            }
        }

        @media (min-width: 900px) {
            body {
                padding: 20px;
            }

            .header {
                padding: 30px;
            }

            .header h1 {
                font-size: 1.8rem;
            }

            .header p {
                font-size: 1rem;
            }

            .content {
                padding: 30px;
            }

            .progress-section {
                padding: 20px 30px;
            }

            .intro-text {
                padding: 20px;
                margin-bottom: 30px;
            }

            .intro-text h2 {
                font-size: 1.5rem;
            }

            .question-card {
                padding: 25px;
                margin-bottom: 20px;
            }

            .question-text {
                font-size: 1.2rem;
            }

            .option {
                padding: 15px 20px;
            }

            .option:hover {
                background: #e7f3ff;
                border-color: #06b6d4;
                transform: translateX(5px);
            }

            .btn {
                padding: 15px 40px;
                font-size: 1.1rem;
            }

            .btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 5px 20px rgba(6, 182, 212, 0.4);
            }

            .btn:active {
                transform: translateY(0);
            }

            .score-circle {
                width: 200px;
                height: 200px;
            }

            .score-percentage {
                font-size: 3rem;
            }

            .score-label {
                font-size: 1rem;
            }

            .results-summary h2 {
                font-size: 2rem;
            }

            .grade-message {
                font-size: 1.3rem;
                padding: 15px;
            }

            .navigation {
                margin-top: 30px;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Unit 7290-727/777 Revision Tool</h1>
            <p>Carry out Basic Routine Vehicle Maintenance - Level 1</p>
        </div>

        <div class="progress-section">
            <div class="progress-bar-container">
                <div class="progress-bar" id="progressBar">0%</div>
            </div>
            <div class="stats">
                <div class="stat">
                    <div class="stat-value" id="currentQuestion">0</div>
                    <div class="stat-label">Current Question</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="totalQuestions">70</div>
                    <div class="stat-label">Total Questions</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="correctAnswers">0</div>
                    <div class="stat-label">Correct</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="incorrectAnswers">0</div>
                    <div class="stat-label">Incorrect</div>
                </div>
            </div>
        </div>

        <div class="content">
            <!-- Start Screen -->
            <div class="start-screen active" id="startScreen">
                <div class="intro-text">
                    <h2>Welcome to the Revision Tool</h2>
                    <p>This interactive revision tool will help you prepare for the <strong>Unit 7290-727/777</strong> assessments (both assignment and multiple choice test).</p>
                    
                    <h3 style="margin-top: 20px; margin-bottom: 10px;">What to Expect:</h3>
                    <ul>
                        <li><strong>70 practice questions</strong> covering all 11 learning outcomes</li>
                        <li>40 comprehensive learning questions on engines, lubrication, cooling, fuel systems</li>
                        <li>30 test-focused practice questions aligned with the actual test content</li>
                        <li>Questions on transmission, steering, suspension topics</li>
                        <li>Braking systems, wheels & tyres, electrical systems</li>
                        <li>Immediate feedback after each answer</li>
                        <li>Detailed explanations for learning</li>
                        <li>Final results with grade indication</li>
                    </ul>

                    <h3 style="margin-top: 20px; margin-bottom: 10px;">Grading System:</h3>
                    <ul>
                        <li><strong>Pass:</strong> 65% or above</li>
                        <li><strong>Merit:</strong> 75% or above</li>
                        <li><strong>Distinction:</strong> 85% or above</li>
                    </ul>
                </div>
                <button class="btn" onclick="startQuiz()">Start Revision Quiz</button>
            </div>

            <!-- Quiz Screen -->
            <div class="quiz-screen" id="quizScreen">
                <div class="question-card">
                    <div class="question-number" id="questionNumber">Question 1 of 40</div>
                    <div class="question-text" id="questionText"></div>
                    <div class="options" id="options"></div>
                    <div class="feedback" id="feedback"></div>
                </div>
                <div class="navigation">
                    <button class="btn btn-secondary" onclick="previousQuestion()" id="prevBtn" style="display: none;">Previous</button>
                    <button class="btn" onclick="checkAnswer()" id="checkBtn">Check Answer</button>
                    <button class="btn" onclick="nextQuestion()" id="nextBtn" style="display: none;">Next Question</button>
                </div>
            </div>

            <!-- Results Screen -->
            <div class="results-screen" id="resultsScreen">
                <div class="results-summary">
                    <h2>Quiz Complete!</h2>
                    <div class="score-circle">
                        <div class="score-percentage" id="finalScore">0%</div>
                        <div class="score-label">Final Score</div>
                    </div>
                    <div class="grade-message" id="gradeMessage"></div>
                    <div class="stats" style="margin-top: 20px;">
                        <div class="stat">
                            <div class="stat-value" id="finalCorrect">0</div>
                            <div class="stat-label">Correct Answers</div>
                        </div>
                        <div class="stat">
                            <div class="stat-value" id="finalIncorrect">0</div>
                            <div class="stat-label">Incorrect Answers</div>
                        </div>
                        <div class="stat">
                            <div class="stat-value" id="finalTotal">40</div>
                            <div class="stat-label">Total Questions</div>
                        </div>
                    </div>
                </div>
                
                <div class="review-section">
                    <h3>Review Your Answers</h3>
                    <div id="reviewList"></div>
                </div>

                <div class="navigation">
                    <button class="btn" onclick="restartQuiz()">Restart Quiz</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const allQuestions = [
            // LO1: Purpose of routine maintenance (8 questions)
            {
                question: "What is the primary purpose of routine vehicle maintenance?",
                options: [
                    "Maintaining safety and reliability",
                    "Increasing resale value",
                    "Improving aesthetics",
                    "Reducing insurance premiums"
                ],
                correct: 0,
                explanation: "Routine maintenance ensures vehicles remain safe, reliable, and legally compliant whilst preventing unexpected breakdowns and component failures."
            },
            {
                question: "Which document records maintenance activities and findings?",
                options: [
                    "Service book",
                    "Job card",
                    "Invoice",
                    "MOT certificate"
                ],
                correct: 1,
                explanation: "Job cards provide a detailed record of work carried out, parts used, observations, and recommendations, creating an essential audit trail."
            },
            {
                question: "Why must observed timescales be maintained during servicing?",
                options: [
                    "To allow accurate job costing",
                    "To meet legal requirements",
                    "For workshop efficiency and customer satisfaction",
                    "To complete work faster"
                ],
                correct: 2,
                explanation: "Maintaining timescales ensures efficient workshop planning, manages customer expectations, and allows accurate cost estimation whilst maintaining quality standards."
            },
            {
                question: "Which legislation specifies technical requirements for vehicles?",
                options: [
                    "Road Vehicles (Construction and Use) Regulations",
                    "Health and Safety at Work Act",
                    "Road Traffic Act",
                    "Environmental Protection Act"
                ],
                correct: 0,
                explanation: "The Road Vehicles (Construction and Use) Regulations specify technical standards for lighting, tyres, brakes, emissions, and other vehicle systems."
            },
            {
                question: "What is the purpose of visual inspection during maintenance?",
                options: [
                    "Estimating repair costs",
                    "Identifying wear and damage",
                    "Cleaning components",
                    "Measuring dimensions"
                ],
                correct: 1,
                explanation: "Visual inspection identifies wear, damage, leaks, corrosion, and loose components that require attention before they cause failure."
            },
            {
                question: "Which protective equipment is essential before maintenance work?",
                options: [
                    "Seat covers only",
                    "Wing covers only",
                    "PPE and vehicle protection",
                    "Floor mats only"
                ],
                correct: 2,
                explanation: "Personal protective equipment (PPE) and vehicle protective equipment (seat covers, wing covers, floor mats) must be used to ensure safety and prevent damage."
            },
            {
                question: "Where can servicing schedules be found?",
                options: [
                    "Owner's handbook",
                    "MOT certificate",
                    "Insurance documents",
                    "Vehicle registration"
                ],
                correct: 0,
                explanation: "Manufacturer servicing schedules are detailed in the owner's handbook and specify intervals, procedures, and specifications for maintenance work."
            },
            {
                question: "What does aural inspection involve?",
                options: [
                    "Visual examination",
                    "Listening for abnormal noises",
                    "Measuring dimensions",
                    "Pressure testing"
                ],
                correct: 1,
                explanation: "Aural inspection involves listening for unusual noises such as knocks, squeals, or grinding sounds that indicate component wear or malfunction."
            },

            // LO2: Petrol and diesel engines (7 questions)
            {
                question: "How many crankshaft rotations complete a four-stroke cycle?",
                options: [
                    "One rotation",
                    "Two rotations",
                    "Three rotations",
                    "Four rotations"
                ],
                correct: 1,
                explanation: "A four-stroke cycle requires two complete crankshaft rotations (720 degrees) to complete all four strokes: intake, compression, power, exhaust."
            },
            {
                question: "During which stroke is the air-fuel mixture compressed?",
                options: [
                    "Intake",
                    "Compression",
                    "Power",
                    "Exhaust"
                ],
                correct: 1,
                explanation: "During the compression stroke, both valves close and the piston moves upward, compressing the air-fuel mixture before ignition."
            },
            {
                question: "What ignites fuel in a diesel engine?",
                options: [
                    "Spark plug",
                    "Glow plug",
                    "Compression heat",
                    "Electric igniter"
                ],
                correct: 2,
                explanation: "Diesel engines use compression ignition - air is compressed to high temperature, then fuel is injected and ignites spontaneously from the heat."
            },
            {
                question: "Which component converts reciprocating motion to rotational motion?",
                options: [
                    "Camshaft",
                    "Crankshaft",
                    "Connecting rod",
                    "Flywheel"
                ],
                correct: 1,
                explanation: "The crankshaft converts the up-and-down (reciprocating) motion of pistons into rotational motion to drive the transmission."
            },
            {
                question: "What is the function of the piston rings?",
                options: [
                    "Seal combustion chamber and control oil",
                    "Open and close valves",
                    "Connect piston to crankshaft",
                    "Support the camshaft"
                ],
                correct: 0,
                explanation: "Piston rings seal the combustion chamber, prevent gas blow-by, control oil consumption, and transfer heat from the piston to the cylinder wall."
            },
            {
                question: "Which engine configuration has cylinders arranged in a straight line?",
                options: [
                    "Vee configuration",
                    "Inline configuration",
                    "Flat configuration",
                    "Radial configuration"
                ],
                correct: 1,
                explanation: "Inline configuration has all cylinders arranged in a straight line, commonly seen in 4-cylinder and 6-cylinder engines."
            },
            {
                question: "What does DOHC stand for?",
                options: [
                    "Dual Overhead Camshaft",
                    "Direct Oil Hydraulic Control",
                    "Double Output High Compression",
                    "Diesel Overhead Hydraulic Chamber"
                ],
                correct: 0,
                explanation: "DOHC (Dual Overhead Camshaft) means the engine has two camshafts in the cylinder head, typically one for intake valves and one for exhaust valves."
            },

            // LO3: Lubrication and cooling (7 questions)
            {
                question: "Where is engine oil stored when the engine is off?",
                options: [
                    "Oil filter",
                    "Sump",
                    "Oil galleries",
                    "Rocker cover"
                ],
                correct: 1,
                explanation: "The sump (oil pan) at the bottom of the engine stores oil when the engine is not running. The oil pump draws oil from here."
            },
            {
                question: "Which component circulates oil under pressure?",
                options: [
                    "Oil filter",
                    "Oil pump",
                    "Sump",
                    "Relief valve"
                ],
                correct: 1,
                explanation: "The oil pump draws oil from the sump and circulates it under pressure through galleries to lubricate bearings, camshafts, and other moving components."
            },
            {
                question: "What is the primary function of engine oil?",
                options: [
                    "Cooling only",
                    "Cleaning only",
                    "Lubrication and cooling",
                    "Sealing only"
                ],
                correct: 2,
                explanation: "Engine oil lubricates moving parts, reduces friction and wear, helps cool components, cleans internal surfaces, and seals between pistons and cylinders."
            },
            {
                question: "Which component controls coolant temperature?",
                options: [
                    "Radiator cap",
                    "Water pump",
                    "Thermostat",
                    "Fan"
                ],
                correct: 2,
                explanation: "The thermostat regulates coolant flow based on temperature. It stays closed when cold to aid warm-up, opening when hot to allow cooling."
            },
            {
                question: "What circulates coolant through the system?",
                options: [
                    "Thermostat",
                    "Radiator",
                    "Water pump",
                    "Expansion tank"
                ],
                correct: 2,
                explanation: "The water pump (driven by belt or electrically) circulates coolant through the engine block, cylinder head, and radiator."
            },
            {
                question: "Which component cools hot coolant?",
                options: [
                    "Water pump",
                    "Thermostat",
                    "Radiator",
                    "Expansion tank"
                ],
                correct: 2,
                explanation: "The radiator transfers heat from hot coolant to the air flowing through its fins, cooling the coolant before it returns to the engine."
            },
            {
                question: "Why is antifreeze added to coolant?",
                options: [
                    "Prevents freezing and corrosion",
                    "Improves pump efficiency",
                    "Increases flow rate",
                    "Reduces pressure"
                ],
                correct: 0,
                explanation: "Antifreeze (ethylene glycol) prevents freezing in winter, raises boiling point in summer, prevents corrosion, and lubricates the water pump."
            },

            // LO4: Ignition and petrol fuel (6 questions)
            {
                question: "Which component creates the spark in petrol engines?",
                options: [
                    "Distributor",
                    "Ignition coil",
                    "Spark plug",
                    "Battery"
                ],
                correct: 2,
                explanation: "The spark plug receives high voltage from the ignition coil and creates a spark across its electrodes to ignite the compressed air-fuel mixture."
            },
            {
                question: "What does the ignition coil do?",
                options: [
                    "Stores electrical energy",
                    "Creates the spark",
                    "Increases voltage",
                    "Distributes current"
                ],
                correct: 2,
                explanation: "The ignition coil transforms the battery's 12 volts into 20,000-40,000 volts needed to create a spark across the spark plug gap."
            },
            {
                question: "Why is ignition timing important?",
                options: [
                    "Controls fuel pump speed",
                    "Regulates charging rate",
                    "Ensures efficient combustion",
                    "Adjusts idle speed"
                ],
                correct: 2,
                explanation: "Correct ignition timing ensures the spark occurs at the optimal point for maximum power and efficiency. Incorrect timing reduces performance and increases emissions."
            },
            {
                question: "What is fuel atomisation?",
                options: [
                    "Fuel pressurisation",
                    "Breaking fuel into droplets",
                    "Fuel filtration",
                    "Fuel temperature control"
                ],
                correct: 1,
                explanation: "Atomisation breaks fuel into tiny droplets, increasing surface area for better mixing with air and more complete combustion."
            },
            {
                question: "Where is petrol stored in the vehicle?",
                options: [
                    "Fuel rail",
                    "Fuel pump",
                    "Fuel tank",
                    "Fuel filter"
                ],
                correct: 2,
                explanation: "The fuel tank stores petrol safely, typically located under the rear of the vehicle away from the engine and exhaust system."
            },
            {
                question: "Which safety hazard is associated with petrol?",
                options: [
                    "High pressure",
                    "High temperature",
                    "Flammability",
                    "Toxicity only"
                ],
                correct: 2,
                explanation: "Petrol is highly flammable with a low flash point. It must be kept away from ignition sources, heat, and sparks. Vapours are also heavier than air and accumulate."
            },

            // LO5: Diesel fuel systems (5 questions)
            {
                question: "Why do diesel systems use high injection pressure?",
                options: [
                    "To increase fuel flow",
                    "For proper atomisation",
                    "To reduce noise",
                    "For easier starting"
                ],
                correct: 1,
                explanation: "High injection pressure (up to 2000+ bar in common rail systems) atomises diesel into extremely fine droplets for complete combustion and reduced emissions."
            },
            {
                question: "What removes contaminants from diesel fuel?",
                options: [
                    "Fuel pump",
                    "Injectors",
                    "Fuel filter",
                    "Fuel tank"
                ],
                correct: 2,
                explanation: "The fuel filter removes dirt, rust, water, and other contaminants that could damage precision injection system components."
            },
            {
                question: "What aids cold starting in diesel engines?",
                options: [
                    "Spark plugs",
                    "Glow plugs",
                    "Fuel heaters only",
                    "Higher compression only"
                ],
                correct: 1,
                explanation: "Glow plugs heat the combustion chamber before and during starting, raising air temperature to assist ignition in cold conditions."
            },
            {
                question: "Which component sprays fuel into the cylinder?",
                options: [
                    "Fuel pump",
                    "Fuel filter",
                    "Injector",
                    "Fuel rail"
                ],
                correct: 2,
                explanation: "Injectors spray precisely metered amounts of fuel into the combustion chamber at very high pressure and correct timing."
            },
            {
                question: "What is the purpose of a fuel water trap?",
                options: [
                    "Increases pressure",
                    "Removes water from fuel",
                    "Filters air",
                    "Meters fuel flow"
                ],
                correct: 1,
                explanation: "Fuel water traps separate and collect water from diesel fuel, preventing corrosion and damage to injection system components."
            },

            // LO6: Clutches and gearboxes (6 questions)
            {
                question: "What is the main function of the clutch?",
                options: [
                    "Increases engine torque",
                    "Disconnects engine from gearbox",
                    "Changes gear ratios",
                    "Reduces engine speed"
                ],
                correct: 1,
                explanation: "The clutch allows temporary disconnection between engine and gearbox for gear changes and vehicle stopping, then smoothly reconnects them."
            },
            {
                question: "Which component does the clutch disc connect to?",
                options: [
                    "Crankshaft",
                    "Flywheel",
                    "Pressure plate",
                    "Gearbox input shaft"
                ],
                correct: 3,
                explanation: "The clutch disc is splined to the gearbox input shaft. When engaged, it's clamped between the flywheel and pressure plate to transfer power."
            },
            {
                question: "What happens when the clutch pedal is pressed?",
                options: [
                    "Clutch engages",
                    "Clutch disengages",
                    "Gears change automatically",
                    "Engine stops"
                ],
                correct: 1,
                explanation: "Pressing the clutch pedal moves the release bearing, which releases pressure plate spring force, separating the clutch disc from the flywheel."
            },
            {
                question: "Why do vehicles need a gearbox?",
                options: [
                    "To store transmission fluid",
                    "To vary torque and speed",
                    "To cool the engine",
                    "To filter oil"
                ],
                correct: 1,
                explanation: "The gearbox provides different ratios between engine speed and wheel speed. Lower gears give high torque; higher gears provide speed and economy."
            },
            {
                question: "Which type of gearbox requires a clutch pedal?",
                options: [
                    "Automatic",
                    "CVT",
                    "Manual",
                    "Semi-automatic"
                ],
                correct: 2,
                explanation: "Manual gearboxes require the driver to operate a clutch pedal to disconnect drive before selecting gears manually via the gear lever."
            },
            {
                question: "What lubricates automatic gearbox components?",
                options: [
                    "Engine oil",
                    "Gear oil",
                    "ATF",
                    "Brake fluid"
                ],
                correct: 2,
                explanation: "Automatic Transmission Fluid (ATF) lubricates gears, operates hydraulic controls, cools components, and cleans internal parts in automatic gearboxes."
            },

            // LO7: Driveline and final drive (5 questions)
            {
                question: "What do CV joints allow?",
                options: [
                    "Power transfer through angles",
                    "Speed reduction only",
                    "Torque multiplication",
                    "Direction reversal"
                ],
                correct: 0,
                explanation: "Constant Velocity (CV) joints allow smooth power transfer through varying angles as suspension moves, maintaining constant velocity without vibration."
            },
            {
                question: "Which component splits power between driving wheels?",
                options: [
                    "Gearbox",
                    "Propshaft",
                    "Differential",
                    "CV joint"
                ],
                correct: 2,
                explanation: "The differential splits power between the driving wheels and allows them to rotate at different speeds during cornering."
            },
            {
                question: "What protects CV joints from contamination?",
                options: [
                    "Grease only",
                    "CV boot",
                    "Metal shield",
                    "Oil seal"
                ],
                correct: 1,
                explanation: "CV boots (rubber or synthetic gaiters) keep grease in and dirt/water out. Split boots lead to contamination and rapid joint failure."
            },
            {
                question: "Which type of gears are used in final drives?",
                options: [
                    "Spur gears",
                    "Helical and hypoid gears",
                    "Worm gears",
                    "Planetary gears"
                ],
                correct: 1,
                explanation: "Final drives typically use helical or hypoid gears to change direction of drive by 90 degrees and provide final speed reduction."
            },
            {
                question: "What is the purpose of the propeller shaft?",
                options: [
                    "Stores rotational energy",
                    "Transmits power to rear axle",
                    "Reduces vibration only",
                    "Supports the gearbox"
                ],
                correct: 1,
                explanation: "The propeller shaft (propshaft) transmits rotational power from the gearbox to the rear axle differential in rear-wheel and four-wheel drive vehicles."
            },

            // LO8: Steering systems (4 questions)
            {
                question: "What is the main advantage of power steering?",
                options: [
                    "Increases steering accuracy",
                    "Reduces steering effort",
                    "Improves tyre life",
                    "Enhances braking"
                ],
                correct: 1,
                explanation: "Power steering (hydraulic or electric) reduces the physical effort required to turn the steering wheel, especially at low speeds and during parking."
            },
            {
                question: "Which steering angle affects tyre wear?",
                options: [
                    "Toe",
                    "Caster",
                    "Kingpin inclination",
                    "Steering ratio"
                ],
                correct: 0,
                explanation: "Toe angle (whether wheels point slightly in or out) has the most significant effect on tyre wear. Incorrect toe causes rapid scrubbing wear."
            },
            {
                question: "What type of steering is most common in modern cars?",
                options: [
                    "Worm and sector",
                    "Rack and pinion",
                    "Recirculating ball",
                    "Worm and roller"
                ],
                correct: 1,
                explanation: "Rack and pinion steering is most common in modern cars, providing direct steering feel and efficient packaging in front-wheel drive vehicles."
            },
            {
                question: "Which component converts rotary motion to linear motion in steering?",
                options: [
                    "Steering column",
                    "Track rod",
                    "Rack and pinion",
                    "Steering arm"
                ],
                correct: 2,
                explanation: "In rack and pinion steering, the pinion gear on the steering column meshes with the rack, converting rotary motion into linear movement."
            },

            // LO9: Suspension, wheels & tyres (7 questions)
            {
                question: "What is the main purpose of suspension?",
                options: [
                    "Support vehicle weight only",
                    "Absorb impacts and maintain tyre contact",
                    "Improve acceleration",
                    "Reduce fuel consumption"
                ],
                correct: 1,
                explanation: "Suspension absorbs road irregularities, maintains tyre contact with the road, provides ride comfort, and supports vehicle control and handling."
            },
            {
                question: "What do shock absorbers control?",
                options: [
                    "Spring compression only",
                    "Vehicle height",
                    "Spring oscillation",
                    "Wheel alignment"
                ],
                correct: 2,
                explanation: "Shock absorbers (dampers) control spring oscillation, preventing excessive bouncing and ensuring tyres maintain contact with the road."
            },
            {
                question: "What is the UK legal minimum tyre tread depth?",
                options: [
                    "1.0mm",
                    "1.6mm",
                    "2.0mm",
                    "3.0mm"
                ],
                correct: 1,
                explanation: "The legal minimum is 1.6mm across the central three-quarters of the tread width, around the entire circumference of the tyre."
            },
            {
                question: "In '205/55 R16', what does '55' represent?",
                options: [
                    "Rim diameter",
                    "Tread width",
                    "Aspect ratio",
                    "Speed rating"
                ],
                correct: 2,
                explanation: "The aspect ratio (55) represents sidewall height as a percentage of tread width. Here, sidewall height is 55% of 205mm."
            },
            {
                question: "What does 'R' indicate in tyre markings?",
                options: [
                    "Radial construction",
                    "Reinforced sidewall",
                    "Run-flat capability",
                    "Racing specification"
                ],
                correct: 0,
                explanation: "'R' indicates radial construction, where cords run radially (perpendicular) from bead to bead. This is the modern standard tyre construction."
            },
            {
                question: "Which wheel type is lightest?",
                options: [
                    "Steel wheels",
                    "Alloy wheels",
                    "Wire wheels",
                    "Composite wheels"
                ],
                correct: 1,
                explanation: "Alloy wheels (aluminium or magnesium alloy) are lighter than steel wheels, reducing unsprung weight and improving handling and ride quality."
            },
            {
                question: "What balances the wheel and tyre assembly?",
                options: [
                    "Valve cap",
                    "Wheel bearing",
                    "Balance weights",
                    "Tyre pressure"
                ],
                correct: 2,
                explanation: "Balance weights (clip-on or adhesive) are fitted to the wheel rim to counteract imbalances and prevent vibration at speed."
            },

            // LO10: Braking systems (7 questions)
            {
                question: "How do brakes slow a vehicle?",
                options: [
                    "Electrical resistance",
                    "Converting kinetic energy to heat",
                    "Magnetic force",
                    "Air resistance"
                ],
                correct: 1,
                explanation: "Brakes convert the vehicle's kinetic energy (movement) into thermal energy (heat) through friction, slowing or stopping the vehicle."
            },
            {
                question: "What does ABS prevent?",
                options: [
                    "Brake fade",
                    "Wheel lock-up",
                    "Brake overheating",
                    "Pad glazing"
                ],
                correct: 1,
                explanation: "Anti-lock Braking System (ABS) prevents wheels locking during heavy braking, maintaining steering control and reducing stopping distances on most surfaces."
            },
            {
                question: "Which component applies force to disc brakes?",
                options: [
                    "Master cylinder",
                    "Brake caliper",
                    "Vacuum servo",
                    "Brake drum"
                ],
                correct: 1,
                explanation: "The brake caliper contains pistons that push brake pads against the disc to create friction and slow the wheel."
            },
            {
                question: "What increases brake pedal force?",
                options: [
                    "Brake fluid",
                    "Master cylinder",
                    "Vacuum servo",
                    "Brake hoses"
                ],
                correct: 2,
                explanation: "The vacuum servo (brake booster) uses engine vacuum to multiply the force applied to the brake pedal, reducing driver effort."
            },
            {
                question: "Which fluid type is used in hydraulic brakes?",
                options: [
                    "DOT 3/4/5.1",
                    "ATF",
                    "Engine oil",
                    "Gear oil"
                ],
                correct: 0,
                explanation: "Hydraulic brake systems use DOT 3, 4, or 5.1 brake fluid (glycol-based) which transmits pressure and withstands high temperatures."
            },
            {
                question: "What indicates worn brake pads?",
                options: [
                    "High brake fluid level",
                    "Low brake fluid level",
                    "Increased pedal height",
                    "Reduced pedal travel"
                ],
                correct: 1,
                explanation: "As brake pads wear, caliper pistons extend further, drawing more fluid from the reservoir, causing the fluid level to drop."
            },
            {
                question: "Which brake component is rotated by the wheel?",
                options: [
                    "Brake pad",
                    "Brake caliper",
                    "Brake disc",
                    "Brake hose"
                ],
                correct: 2,
                explanation: "The brake disc (rotor) is attached to the wheel hub and rotates with the wheel. Brake pads grip the disc to create friction."
            },

            // LO11: Electrical systems (7 questions)
            {
                question: "What stores electrical energy in a vehicle?",
                options: [
                    "Alternator",
                    "Battery",
                    "Starter motor",
                    "Voltage regulator"
                ],
                correct: 1,
                explanation: "The battery stores electrical energy chemically and provides high current (200-400 amps) for starting whilst powering accessories when the engine is off."
            },
            {
                question: "Which component generates electricity when the engine runs?",
                options: [
                    "Battery",
                    "Starter motor",
                    "Alternator",
                    "Ignition coil"
                ],
                correct: 2,
                explanation: "The alternator converts mechanical energy from the engine into electrical energy, charging the battery and powering all electrical systems."
            },
            {
                question: "What cranks the engine during starting?",
                options: [
                    "Alternator",
                    "Battery",
                    "Starter motor",
                    "Flywheel"
                ],
                correct: 2,
                explanation: "The starter motor is a powerful electric motor that cranks (rotates) the engine at sufficient speed to establish the four-stroke cycle."
            },
            {
                question: "What should be disconnected before electrical work?",
                options: [
                    "Alternator",
                    "Starter motor",
                    "Battery negative terminal",
                    "Fuse box"
                ],
                correct: 2,
                explanation: "Disconnecting the battery negative terminal prevents short circuits, accidental airbag deployment, and protects electronic control units from damage."
            },
            {
                question: "What protects circuits from excessive current?",
                options: [
                    "Relays",
                    "Fuses",
                    "Switches",
                    "Diodes"
                ],
                correct: 1,
                explanation: "Fuses contain a thin wire that melts if current exceeds the rated value, breaking the circuit and protecting wiring from overheating and fire."
            },
            {
                question: "What is normal charging system voltage?",
                options: [
                    "12.0-12.6 volts",
                    "13.8-14.4 volts",
                    "15.0-16.0 volts",
                    "10.0-11.0 volts"
                ],
                correct: 1,
                explanation: "A healthy charging system produces 13.8-14.4 volts when the engine is running, sufficient to charge the battery and power electrical systems."
            },
            {
                question: "Which system controls engine functions electronically?",
                options: [
                    "ABS",
                    "ECU",
                    "Alternator",
                    "Battery"
                ],
                correct: 1,
                explanation: "The Engine Control Unit (ECU) electronically controls fuel injection, ignition timing, emissions systems, and other engine functions based on sensor inputs."
            },

            // 30 Test-Focused Practice Questions
            {
                question: "The basic principle of a manual transmission clutch is that it must be able to?",
                options: [
                    "Transmit maximum torque with slippage",
                    "Transmit maximum torque without slippage",
                    "Act as a torque multiplier",
                    "Vary the speed of the vehicle"
                ],
                correct: 1,
                explanation: "The clutch must transmit engine torque to the gearbox WITHOUT slippage under normal driving conditions. This is its primary function."
            },
            {
                question: "A service check on a clutch disengagement operation requires which one of the following?",
                options: [
                    "The ability to select reverse with the engine off",
                    "The ability to select all gears with the engine idling",
                    "The ability to select all gears smoothly at maximum engine revs",
                    "The ability to start the car in any gear without depressing the clutch"
                ],
                correct: 1,
                explanation: "A properly functioning clutch allows smooth gear selection when the engine is running at idle speed. This tests clutch engagement smoothly."
            },
            {
                question: "How many output shafts does a front engine rear wheel drive vehicle have?",
                options: [
                    "1",
                    "2",
                    "3",
                    "None"
                ],
                correct: 0,
                explanation: "Front-engine, rear-wheel-drive vehicles have ONE output shaft (the propeller shaft) from the gearbox to the rear axle/differential."
            },
            {
                question: "During a basic service, the gearbox is found to be completely empty of oil. What is the correct course of action?",
                options: [
                    "Top up the gearbox",
                    "Top up the gearbox and report the findings",
                    "Leave it alone",
                    "Report the findings before topping up"
                ],
                correct: 3,
                explanation: "A completely empty gearbox indicates serious mechanical failure. ALWAYS report findings to supervisor BEFORE topping up oil."
            },
            {
                question: "During inspection you observe a defect on a CV joint. You will report?",
                options: [
                    "Worn track-rod ends",
                    "A split prop-shaft coupling",
                    "A split CV joint gator",
                    "A cracked final drive"
                ],
                correct: 2,
                explanation: "Split CV joint gaiters (boots) are VERY COMMON findings during inspection. They allow grease to escape and dirt/water to enter the joint."
            },
            {
                question: "A steering mechanism will include some form of?",
                options: [
                    "Swivel joints",
                    "ABS sensors",
                    "Hydraulic levelling system",
                    "Suspension dampers"
                ],
                correct: 0,
                explanation: "Steering mechanisms include swivel joints (ball joints or king pins) that enable wheels to turn left/right while still receiving engine power."
            },
            {
                question: "A basic service inspection operation on vehicle components will involve?",
                options: [
                    "Checking for wear and splits",
                    "Lengthening & shortening",
                    "Fitting new locking devices",
                    "Topping up with fluid"
                ],
                correct: 0,
                explanation: "Basic service inspections focus on VISUAL CHECKS for wear, damage, splits, corrosion, and loose components. This is the foundation of maintenance."
            },
            {
                question: "Which of the following are types of metal spring?",
                options: [
                    "Torsion, rubber & leaf",
                    "Coil, leaf & torsion",
                    "Rubber, leaf & coil",
                    "Gas, leaf & coil"
                ],
                correct: 1,
                explanation: "The three main types of metal springs are: 1) Coil springs, 2) Leaf springs, 3) Torsion bars. You MUST know all three for the test."
            },
            {
                question: "The letters TWI on the shoulders of a tyre are used to highlight?",
                options: [
                    "Torque wrench index",
                    "Temperature when inflated",
                    "Tyre & wheel index",
                    "Tread wear indicators"
                ],
                correct: 3,
                explanation: "TWI (Tread Wear Indicators) are raised bars in tyre grooves showing the LEGAL MINIMUM tread depth (1.6mm). When tyre wears to TWI level, it's at legal limit."
            },
            {
                question: "Under-inflated tyres can be identified when?",
                options: [
                    "Reduced vehicle trim height",
                    "Premature wear on both inner and outer edges",
                    "Premature wear on both outer edges",
                    "Premature wear in the middle of the tread"
                ],
                correct: 1,
                explanation: "Under-inflated tyres flex excessively at the sidewalls, causing PREMATURE WEAR on BOTH the inner AND outer edges of the tread."
            },
            {
                question: "A hydraulic braking system will include a?",
                options: [
                    "Slave cylinder only",
                    "Master cylinder only",
                    "Slave and caliper cylinders",
                    "Slave and master cylinders"
                ],
                correct: 3,
                explanation: "Hydraulic braking systems require BOTH: Master cylinder (creates pressure) AND Slave cylinders at each wheel (applies brakes). Both are essential."
            },
            {
                question: "One basic check made on the front and rear brake disc pads is?",
                options: [
                    "Visual brake lining wear",
                    "Brake disc run-out",
                    "Roller brake efficiency test",
                    "Brake drum wear"
                ],
                correct: 0,
                explanation: "The most basic brake pad check is VISUAL INSPECTIONlook directly at the friction material thickness. No special tools needed initially."
            },
            {
                question: "A starter motor converts?",
                options: [
                    "Mechanical energy into chemical energy",
                    "Chemical energy into mechanical energy",
                    "Electrical energy into mechanical energy",
                    "Mechanical energy into electrical energy"
                ],
                correct: 2,
                explanation: "Starter motors convert ELECTRICAL energy (from battery) into MECHANICAL energy (rotating motion) to crank the engine."
            },
            {
                question: "What does the worn belt image show?",
                options: [
                    "A worn cam belt",
                    "A split alternator pulley",
                    "A worn alternator drive belt",
                    "A worn starter motor drive belt"
                ],
                correct: 2,
                explanation: "Worn auxiliary/serpentine drive belts (alternator belts) are a COMMON finding. Look for cracks, fraying, or glazing indicating replacement needed."
            },
            {
                question: "A side light bulb is normally rated at?",
                options: [
                    "2.1 watts",
                    "5 watts",
                    "21 watts",
                    "55 watts"
                ],
                correct: 1,
                explanation: "Parking/side light bulbs are typically rated at 5 WATTS. Know this specification for the test."
            },
            {
                question: "What is the component shown in the image?",
                options: [
                    "Rain sensor",
                    "Automatic headlamp sensor",
                    "Small battery",
                    "Light emitting diode bulb"
                ],
                correct: 1,
                explanation: "The automatic headlamp sensor detects ambient light levels and triggers lights automatically in dark conditions."
            },
            {
                question: "Which one of the following substances requires the most protection to prevent coming into contact with the vehicle bodywork?",
                options: [
                    "Engine coolant",
                    "DOT-4 brake fluid",
                    "Engine oil",
                    "De-ionised water"
                ],
                correct: 1,
                explanation: "DOT-4 brake fluid is HIGHLY CORROSIVE to paint and bodywork. Immediate protection and cleaning required if spilled."
            },
            {
                question: "A clutch release bearing pushes on the?",
                options: [
                    "Gearbox input shaft",
                    "Diaphragm spring",
                    "Centre plate",
                    "Flywheel"
                ],
                correct: 1,
                explanation: "The clutch release bearing pushes on the DIAPHRAGM SPRING (not pressure plate directly) to disengage the clutch."
            },
            {
                question: "A missing clutch master cylinder cap will allow??",
                options: [
                    "Moisture to ingress in the clutch fluid",
                    "The clutch fluid to evaporate",
                    "The plastic reservoir to corrode",
                    "Rapid wear of the clutch drive plate"
                ],
                correct: 0,
                explanation: "Brake fluid is HYGROSCOPIC (absorbs moisture). Missing cap allows moisture ingress, reducing performance and causing corrosion."
            },
            {
                question: "For safety reasons, what gear should be selected when starting a vehicle with an automatic gearbox?",
                options: [
                    "P - Park",
                    "R - Reverse",
                    "N - Neutral",
                    "D - Drive"
                ],
                correct: 0,
                explanation: "Automatic vehicles MUST be started in Park (P) position to prevent unexpected vehicle movement during starting."
            },
            {
                question: "A final drive on a front engine rear wheel drive normally houses a??",
                options: [
                    "Differential",
                    "Pinion & Differential",
                    "Crown-wheel & Differential",
                    "Pinion, Crown-wheel & Differential"
                ],
                correct: 3,
                explanation: "Final drive contains THREE components: Pinion gear, Crown wheel (ring gear), and Differentialall essential for power distribution."
            },
            {
                question: "A basic service task when the vehicle is raised with road wheels suspended is to check for??",
                options: [
                    "Excessive noise from the wheel swivel bearings",
                    "Excessive noise & play in the wheel bearings",
                    "Run-out with a (DTI) clock gauge on the tyre side walls",
                    "Run-out with a (DTI) clock gauge on the wheel rim"
                ],
                correct: 1,
                explanation: "With wheel suspended, technicians check for bearing noise and play by rotating wheel and rocking to check for looseness."
            },
            {
                question: "Two devices that are likely to be found on the steering wheel are??",
                options: [
                    "RSR & horn switch",
                    "SRS & horn switch",
                    "SRS & indicator switch",
                    "RSR & indicator switch"
                ],
                correct: 1,
                explanation: "Steering wheels typically contain: SRS (airbag/Supplemental Restraint System) and Horn switch."
            },
            {
                question: "Where can a technician find a lot of information about the steering system alignment & performance?",
                options: [
                    "Dash board warning lights",
                    "Steering wheel",
                    "Wheels",
                    "Tyres"
                ],
                correct: 3,
                explanation: "Tyre wear patterns reveal valuable information about STEERING ALIGNMENT and SUSPENSION FAULTS. Always inspect tyres during service."
            },
            {
                question: "The purpose of a suspension damper is to??",
                options: [
                    "Absorb road shocks",
                    "Reduce friction in the springs",
                    "Insulate the body from any road noise",
                    "Convert spring energy into heat"
                ],
                correct: 3,
                explanation: "Shock absorbers (dampers) convert SPRING OSCILLATION (kinetic energy) into HEAT, controlling bounce and keeping tyres on road."
            },
            {
                question: "A basic suspension service check will involve??",
                options: [
                    "Suspension alignment check",
                    "Vehicle height and level",
                    "Suspension spring length",
                    "Electronic analysis"
                ],
                correct: 1,
                explanation: "Basic suspension service includes measuring vehicle height and ensuring level side-to-side. Uneven ride height indicates suspension fault."
            },
            {
                question: "The type of tyre shown has its plies running at 90 to the tread. It is known as??",
                options: [
                    "Tube-ply",
                    "Cross-ply",
                    "Radial-ply",
                    "Bias belted-ply"
                ],
                correct: 2,
                explanation: "Modern standard tyres are RADIAL-PLY with plies running at 90 (perpendicular) to the tread direction. Better performance than cross-ply."
            },
            {
                question: "A braking system converts??",
                options: [
                    "Heat energy into movement",
                    "Kinetic energy into heat energy",
                    "Heat energy into kinetic energy",
                    "Rotary energy into kinetic energy"
                ],
                correct: 1,
                explanation: "Braking systems convert vehicle KINETIC ENERGY (motion) into HEAT ENERGY (through friction of brake pads/shoes on discs/drums)."
            },
            {
                question: "The most suitable method of measuring a brake disc would be to use a??",
                options: [
                    "Clock gauge (DTI)",
                    "Vernier caliper",
                    "Micrometer",
                    "Caliper and a rule"
                ],
                correct: 2,
                explanation: "MICROMETER provides the precision needed to accurately measure brake disc thickness for safety-critical component inspection."
            },
            {
                question: "The figure shown is of a starter motor in position to drive??",
                options: [
                    "A pinion with a ring gear",
                    "Directly onto the flywheel",
                    "The ring gear with a pinion",
                    "Directly onto the clutch assembly"
                ],
                correct: 2,
                explanation: "Starter motor pinion engages the RING GEAR on the flywheel to crank the engine. Pinion must mesh correctly with ring gear."
            }
        ];

        // Shuffle questions and select 50-70 random questions each session
        const questions = allQuestions.sort(() => Math.random() - 0.5).slice(0, Math.floor(Math.random() * 21) + 50);
        let currentQuestionIndex = 0;
        let correctCount = 0;
        let incorrectCount = 0;
        let userAnswers = [];
        let answered = false;

        function startQuiz() {
            document.getElementById('startScreen').classList.remove('active');
            document.getElementById('quizScreen').classList.add('active');
            loadQuestion();
            updateProgress();
        }

        function loadQuestion() {
            answered = false;
            const question = questions[currentQuestionIndex];
            
            document.getElementById('questionNumber').textContent = `Question ${currentQuestionIndex + 1} of ${questions.length}`;
            document.getElementById('questionText').textContent = question.question;
            
            const optionsDiv = document.getElementById('options');
            optionsDiv.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.onclick = () => selectOption(index);
                optionDiv.innerHTML = `
                    <input type="radio" name="answer" id="option${index}" value="${index}">
                    <label for="option${index}" style="cursor: pointer; flex: 1;">${option}</label>
                `;
                optionsDiv.appendChild(optionDiv);
            });

            document.getElementById('feedback').classList.remove('show', 'correct', 'incorrect');
            document.getElementById('checkBtn').style.display = 'inline-block';
            document.getElementById('nextBtn').style.display = 'none';
            
            document.getElementById('prevBtn').style.display = currentQuestionIndex > 0 ? 'inline-block' : 'none';
        }

        function selectOption(index) {
            if (answered) return;
            
            document.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
            document.querySelectorAll('.option')[index].classList.add('selected');
            document.getElementById(`option${index}`).checked = true;
        }

        function checkAnswer() {
            if (answered) return;
            
            const selectedOption = document.querySelector('input[name="answer"]:checked');
            if (!selectedOption) {
                alert('Please select an answer before checking.');
                return;
            }

            answered = true;
            const userAnswer = parseInt(selectedOption.value);
            const question = questions[currentQuestionIndex];
            const isCorrect = userAnswer === question.correct;

            userAnswers[currentQuestionIndex] = {
                question: question.question,
                userAnswer: userAnswer,
                correctAnswer: question.correct,
                isCorrect: isCorrect,
                options: question.options
            };

            if (isCorrect) {
                correctCount++;
            } else {
                incorrectCount++;
            }

            const feedback = document.getElementById('feedback');
            feedback.className = `feedback show ${isCorrect ? 'correct' : 'incorrect'}`;
            feedback.innerHTML = `
                <div class="feedback-title">${isCorrect ? ' Correct!' : ' Incorrect'}</div>
                <div>${question.explanation}</div>
            `;

            document.querySelectorAll('.option').forEach((opt, index) => {
                opt.classList.add('disabled');
                if (index === question.correct) {
                    opt.classList.add('correct');
                } else if (index === userAnswer && !isCorrect) {
                    opt.classList.add('incorrect');
                }
            });

            document.getElementById('checkBtn').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'inline-block';
            document.getElementById('nextBtn').textContent = currentQuestionIndex === questions.length - 1 ? 'View Results' : 'Next Question';

            updateProgress();
        }

        function nextQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            } else {
                showResults();
            }
            updateProgress();
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
                
                if (userAnswers[currentQuestionIndex]) {
                    answered = true;
                    const userAnswer = userAnswers[currentQuestionIndex].userAnswer;
                    const question = questions[currentQuestionIndex];
                    
                    document.getElementById(`option${userAnswer}`).checked = true;
                    document.querySelectorAll('.option')[userAnswer].classList.add('selected');
                    
                    document.querySelectorAll('.option').forEach((opt, index) => {
                        opt.classList.add('disabled');
                        if (index === question.correct) {
                            opt.classList.add('correct');
                        } else if (index === userAnswer && userAnswer !== question.correct) {
                            opt.classList.add('incorrect');
                        }
                    });

                    const feedback = document.getElementById('feedback');
                    const isCorrect = userAnswer === question.correct;
                    feedback.className = `feedback show ${isCorrect ? 'correct' : 'incorrect'}`;
                    feedback.innerHTML = `
                        <div class="feedback-title">${isCorrect ? ' Correct!' : ' Incorrect'}</div>
                        <div>${question.explanation}</div>
                    `;

                    document.getElementById('checkBtn').style.display = 'none';
                    document.getElementById('nextBtn').style.display = 'inline-block';
                }
                
                updateProgress();
            }
        }

        function updateProgress() {
            const answeredQuestions = userAnswers.filter(a => a !== undefined).length;
            const progress = (answeredQuestions / questions.length) * 100;
            
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('progressBar').textContent = Math.round(progress) + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            document.getElementById('totalQuestions').textContent = questions.length;
            document.getElementById('correctAnswers').textContent = correctCount;
            document.getElementById('incorrectAnswers').textContent = incorrectCount;
        }

        function showResults() {
            document.getElementById('quizScreen').classList.remove('active');
            document.getElementById('resultsScreen').classList.add('active');

            const percentage = Math.round((correctCount / questions.length) * 100);
            document.getElementById('finalScore').textContent = percentage + '%';
            document.getElementById('finalCorrect').textContent = correctCount;
            document.getElementById('finalIncorrect').textContent = incorrectCount;
            document.getElementById('finalTotal').textContent = questions.length;

            let gradeMessage = '';
            let gradeClass = '';
            
            if (percentage >= 85) {
                gradeMessage = ' Distinction - Outstanding Work!';
                gradeClass = 'grade-distinction';
            } else if (percentage >= 75) {
                gradeMessage = ' Merit - Excellent Job!';
                gradeClass = 'grade-merit';
            } else if (percentage >= 65) {
                gradeMessage = ' Pass - Well Done!';
                gradeClass = 'grade-pass';
            } else {
                gradeMessage = ' Below Pass - Keep Learning!';
                gradeClass = 'grade-fail';
            }

            const gradeDiv = document.getElementById('gradeMessage');
            gradeDiv.textContent = gradeMessage;
            gradeDiv.className = `grade-message ${gradeClass}`;

            const reviewList = document.getElementById('reviewList');
            reviewList.innerHTML = '';

            userAnswers.forEach((answer, index) => {
                const reviewItem = document.createElement('div');
                reviewItem.className = `review-item ${answer.isCorrect ? 'correct' : 'incorrect'}`;
                
                let html = `
                    <div class="review-question">Q${index + 1}: ${answer.question}</div>
                    <div class="review-answer">
                `;
                
                if (!answer.isCorrect) {
                    html += `
                        <div class="your-answer"><strong>Your answer:</strong> ${answer.options[answer.userAnswer]}</div>
                        <div class="correct-answer"><strong>Correct answer:</strong> ${answer.options[answer.correctAnswer]}</div>
                    `;
                } else {
                    html += `<div class="correct-answer"><strong>Your answer:</strong> ${answer.options[answer.userAnswer]} </div>`;
                }
                
                html += `</div>`;
                reviewItem.innerHTML = html;
                reviewList.appendChild(reviewItem);
            });
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            correctCount = 0;
            incorrectCount = 0;
            userAnswers = [];
            answered = false;

            document.getElementById('resultsScreen').classList.remove('active');
            document.getElementById('startScreen').classList.add('active');
            updateProgress();
        }
    </script>
</body>
</html>